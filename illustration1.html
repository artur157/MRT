<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Иллюстрация</title>
        <link rel="stylesheet" href="css/myStyle.css" type="text/css">
    </head>
    <body>
        <div id="navigation">
            <ul>
                <li><a href="theory1.html">Теория</a></li>
                <li><a href="illustration1.html">Иллюстрация</a></li>
                <li><a href="test.php">Тест</a></li>
            </ul>
        </div>
        
        <div class="sidebar" id="sidebar_i">
            <ul>
                <li><a href="illustration1.html" class="special">Сумма положительных элементов массива</a></li>
                <li><a href="illustration2.html">Вычисление факториала</a></li>
                <li><a href="illustration3.html">Числа Фибоначчи</a></li>
            </ul>
            <button id="but">Пуск</button>
        </div>
        
        <div id="page">
            <div id="program">
<pre>const size = 3;
      A: array [1..size] of integer = (5,-7,21);
var x: integer;

function Sum(n: integer): integer;
  var s: integer;
begin
  if n <= size then begin
    if A[n] > 0 then
      s := A[n]
    else s := 0;
    Sum := s + Sum(n+1);
  end
  else Sum := 0;
end;

begin
  <span id="s1">x:= Sum(1);</span>  
end. </pre>
            </div>
            
            <div id="variables">
                <p>x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &nbsp;&nbsp;<span id="x" class="varr">0</span></p> 
                <p>n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &nbsp;&nbsp;<span id="n" class="varr">0</span></p> 
                <p>s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= &nbsp;&nbsp;<span id="s" class="varr">0</span></p> 
                <p>Sum &nbsp;&nbsp;=&nbsp;&nbsp;<span id="f" class="varr">0</span></p> 
                <div id="stack"> 
                    <span id="stack1"> </span>
                    <span id="stack2"> </span>
                    <span id="stack3"> </span>
                    <span id="stack4"> </span>
                    <span id="stack5"> </span>
                </div>  
            </div>
            
            <div id="mod_body">
<pre>
<span id="s2">n:= 1;</span>    
<span id="s3">s:= 5;</span>     
<span id="s4">Sum:= 5 + Sum(2);</span>  
      
<span id="s5">n:= 2;</span>    
<span id="s6">s:= 0;</span>    
<span id="s7">Sum:= 0 + Sum(3);</span>  
     
<span id="s8">n:= 3;</span>   
<span id="s9">s:= 21;</span>    
<span id="s10">Sum:= 21 + Sum(4);</span>   
    
<span id="s11">n:= 4;</span> 
<span id="s12">Sum:= 0;</span>  

<span id="s13">Sum:= 21 + 0;</span> 
<span id="s14">Sum:= 0 + 21;</span> 
<span id="s15">Sum:= 5 + 21;</span>    
</pre>
            </div>
            
            <div id="scheme">
                <canvas id="sch" width="650" height="500"></canvas>  
            </div>
        </div>
        
        <script src="scripts/jquery-3.1.1.min.js"></script>
        <script>
            var program = document.getElementById('program'),
                s1 = document.getElementById('s1')
                but = document.getElementById('but');
            var kol = 0;
            const inttime = 100;
            var canvas = document.getElementById("sch");
            var context = canvas.getContext("2d");
            
            context.fillStyle = "#515";
            context.lineWidth=5;
            context.strokeStyle="#515";
            context.font = "16pt sans-serif";
  
            for (var j=2;j<16;++j){
                $('#s'+j).hide();
            }
            
            but.onclick = function() {
                var h = setInterval(function() {
                    ++kol;
                    var s1 = document.getElementById('s1');
                    switch(kol){
                        case 1: s1.style.background="#fe7";
                            break;
                        case 2: s2.style.background="#fe7";
                                $('#s2').fadeIn(inttime);
                                $('#s3').fadeIn(inttime);
                                $('#s4').fadeIn(inttime);
                                $('#n').text(1);
                                context.beginPath();
                                context.moveTo(325,50);
                                context.lineTo(325,100);
                                context.stroke();
                                context.beginPath();
                                context.arc(325,100,10,0,2*Math.PI, true);
                                context.fill();
                                context.fillText("Sum(1)",355,100);
                            break;
                        case 3: s2.style.background="none";
                                s3.style.background="#fe7";
                                $('#s').text(5);
                            break;
                        case 4: s3.style.background="none";
                                s4.style.background="#fe7";
                                $('#stack1').text(5);
                            break;
                        case 5: s5.style.background="#fe7";
                                $('#s5').fadeIn(inttime);
                                $('#s6').fadeIn(inttime);
                                $('#s7').fadeIn(inttime);
                                $('#n').text(2);
                                context.beginPath();
                                context.moveTo(325,100);
                                context.lineTo(325,200);
                                context.stroke();
                                context.beginPath();
                                context.arc(325,200,10,0,2*Math.PI, true);
                                context.fill();
                                context.fillText("Sum(2)",355,200);
                            break;
                        case 6: s5.style.background="none";
                                s6.style.background="#fe7";
                                $('#s').text(0);
                            break;
                        case 7: s6.style.background="none";
                                s7.style.background="#fe7";
                                $('#stack1').text(0);
                                $('#stack2').text(5);
                            break;
                        case 8: s8.style.background="#fe7";
                                $('#s8').fadeIn(inttime);
                                $('#s9').fadeIn(inttime);
                                $('#s10').fadeIn(inttime);
                                $('#n').text(3);
                                context.beginPath();
                                context.moveTo(325,200);
                                context.lineTo(325,300);
                                context.stroke();
                                context.beginPath();
                                context.arc(325,300,10,0,2*Math.PI, true);
                                context.fill();
                                context.fillText("Sum(3)",355,300);
                            break;
                        case 9: s8.style.background="none";
                                s9.style.background="#fe7";
                                $('#s').text(21);
                            break;
                        case 10: s9.style.background="none";
                                 s10.style.background="#fe7";
                                 $('#stack1').text(21);
                                 $('#stack2').text(0);
                                 $('#stack3').text(5);
                            break;
                        case 11: s11.style.background="#fe7";
                                 $('#s11').fadeIn(inttime);
                                 $('#s12').fadeIn(inttime);
                                 $('#n').text(4);
                                 context.beginPath();
                                 context.moveTo(325,300);
                                 context.lineTo(325,400);
                                 context.stroke();
                                 context.beginPath();
                                 context.arc(325,400,10,0,2*Math.PI, true);
                                 context.fill();
                                 context.fillText("Sum(4)",355,400);
                            break;
                        case 12: s11.style.background="none";
                                 s12.style.background="#fe7";
                                 $('#f').text(0);
                            break;
                        case 13: s12.style.background="none";
                                 s13.style.background="#fe7";
                                 $('#s13').fadeIn(inttime);
                                 $('#f').text(21);
                                 $('#stack1').text(0);
                                 $('#stack2').text(5);
                                 $('#stack3').text(" ");
                            break;
                        case 14: s13.style.background="none";
                                 s10.style.background="none";
                                 s14.style.background="#fe7";
                                 $('#s14').fadeIn(inttime);
                                 $('#stack1').text(5);
                                 $('#stack2').text(" ");
                            break;
                        case 15: s14.style.background="none";
                                 s7.style.background="none";
                                 s15.style.background="#fe7";
                                 $('#s15').fadeIn(inttime);
                                 $('#f').text(26);
                                 $('#stack1').text(" ");
                            break;
                        case 16: s15.style.background="none";
                                 s4.style.background="none";
                                 $('#x').text(26);
                                 $('#n').text(0);
                                 $('#s').text(0);
                                 $('#f').text(0);
                            break;
                        case 17: s1.style.background="none";
                            break;
                    }
                      
                    if (kol==17) clearInterval(h);
                }, 2000);
            };
        </script>
    </body>
</html>